[service]
builder = "railpack"

[railpack]
packageManager = "pnpm"
installCommand = "corepack enable && corepack prepare pnpm@latest --activate && pnpm install"
buildCommand = "pnpm -C packages/db prisma:generate && pnpm -C apps/bff build"

# Ensure environment variables are available during build
[build]
watchPatterns = ["**/*.ts", "**/*.tsx", "**/*.js", "**/*.jsx"]
