# AI Model Configuration Status - Complete System Overview

**Date:** December 13, 2025  
**Status:** ‚úÖ Production Deployed  
**Last Updated:** GPT-5.2 Upgrade Complete

---

## üéØ Executive Summary

This document provides the definitive record of all AI systems in the Subway Enterprise platform and their current GPT model configurations. The system has evolved through 7 phases of development, with strategic model upgrades applied based on use case requirements.

**Model Distribution:**
- **GPT-5.2 (Latest Premium)**: 8 systems - Complex strategic analysis
- **GPT-5-mini (Balanced)**: 12 systems - Most operations  
- **GPT-5-nano (Cost-effective)**: 1 system - High-volume discovery

---

## ü§ñ Complete AI Systems Inventory

### **Phase 1: AI Intelligence Foundation**

| System | Current Model | Environment Variable | Purpose | Cost per 1M Tokens |
|--------|---------------|---------------------|---------|-------------------|
| **SubMind Assistant** | `gpt-5-mini` | `SUBMIND_MODEL` | Interactive Q&A, operational insights | $0.25/$2.00 |
| **Store Intelligence** | `gpt-5-mini` | `AI_STORE_ANALYSIS_MODEL` | Individual store performance analysis | $0.25/$2.00 |
| **Store Intelligence (Premium)** | `gpt-5.2` | `AI_PREMIUM_ANALYSIS_MODEL` | Executive-level store analysis | $1.25/$10.00 |
| **Network Analysis** | `gpt-5-mini` | `AI_NETWORK_ANALYSIS_MODEL` | Multi-store network insights | $0.25/$2.00 |
| **Network Analysis (Premium)** | `gpt-5.2` | `AI_PREMIUM_ANALYSIS_MODEL` | Strategic network planning | $1.25/$10.00 |
| **Continuous Intelligence** | `gpt-5-mini` | `AI_CONTINUOUS_INTELLIGENCE_MODEL` | Ongoing performance monitoring | $0.25/$2.00 |

### **Phase 2: Portfolio Optimization**

| System | Current Model | Environment Variable | Purpose | Cost per 1M Tokens |
|--------|---------------|---------------------|---------|-------------------|
| **Portfolio Optimizer** | `gpt-5-mini` | `PORTFOLIO_ANALYSIS_MODEL` | Investment portfolio analysis | $0.25/$2.00 |
| **ROI Calculator** | `gpt-5-mini` | `ROI_ANALYSIS_MODEL` | Return on investment calculations | $0.25/$2.00 |
| **Cannibalization Calculator** | `gpt-5-mini` | `CANNIBALIZATION_MODEL` | Store overlap analysis | $0.25/$2.00 |

### **Phase 3: Scenario Modeling**

| System | Current Model | Environment Variable | Purpose | Cost per 1M Tokens |
|--------|---------------|---------------------|---------|-------------------|
| **Scenario Modeling** | `gpt-5.2` | `SCENARIO_ANALYSIS_MODEL` | What-if scenario generation | $1.25/$10.00 |
| **Scenario Comparison** | `gpt-5.2` | `SCENARIO_ANALYSIS_MODEL` | Multi-scenario comparative analysis | $1.25/$10.00 |

### **Phase 4: Revenue Forecasting**

| System | Current Model | Environment Variable | Purpose | Cost per 1M Tokens |
|--------|---------------|---------------------|---------|-------------------|
| **Revenue Forecasting** | `gpt-5-mini` | `REVENUE_FORECASTING_MODEL` | Financial predictions | $0.25/$2.00 |
| **Forecast Explainer** | `gpt-5-mini` | `FORECAST_EXPLANATION_MODEL` | Forecast reasoning and insights | $0.25/$2.00 |

### **Phase 5: Franchisee Intelligence**

| System | Current Model | Environment Variable | Purpose | Cost per 1M Tokens |
|--------|---------------|---------------------|---------|-------------------|
| **Franchisee Intelligence** | `gpt-5-mini` | `FRANCHISEE_ANALYSIS_MODEL` | Franchisee performance analysis | $0.25/$2.00 |
| **Franchisee Analytics** | `gpt-5-mini` | `FRANCHISEE_ANALYTICS_MODEL` | Performance scoring and metrics | $0.25/$2.00 |

### **Phase 6: Advanced Store Analysis**

| System | Current Model | Environment Variable | Purpose | Cost per 1M Tokens |
|--------|---------------|---------------------|---------|-------------------|
| **Turnover Prediction** | `gpt-5.2` | `STORE_ANALYSIS_MODEL` | Revenue prediction modeling | $1.25/$10.00 |
| **Performance Clustering** | `gpt-5.2` | `STORE_ANALYSIS_MODEL` | Store performance grouping | $1.25/$10.00 |
| **Peer Benchmarking** | `gpt-5.2` | `STORE_ANALYSIS_MODEL` | Comparative performance analysis | $1.25/$10.00 |

### **Phase 7: Competitive Intelligence**

| System | Current Model | Environment Variable | Purpose | Cost per 1M Tokens |
|--------|---------------|---------------------|---------|-------------------|
| **Competitive Analysis** | `gpt-5.2` | `COMPETITIVE_ANALYSIS_MODEL` | Market competitor analysis | $1.25/$10.00 |
| **Google Places Intelligence** | `gpt-5.2` | `COMPETITIVE_ANALYSIS_MODEL` | Location-based competitive insights | $1.25/$10.00 |

### **Expansion Intelligence System**

| System | Current Model | Environment Variable | Purpose | Cost per 1M Tokens |
|--------|---------------|---------------------|---------|-------------------|
| **Simple Expansion** | `gpt-5.2` | `EXPANSION_OPENAI_MODEL` | Single-call expansion generation | $1.25/$10.00 |
| **Market Analysis** | `gpt-5-mini` | `MARKET_ANALYSIS_MODEL` | Strategic market intelligence | $0.25/$2.00 |
| **Location Discovery** | `gpt-5-nano` | `LOCATION_DISCOVERY_MODEL` | High-volume candidate generation | $0.05/$0.40 |
| **Strategic Scoring** | `gpt-5-mini` | `STRATEGIC_SCORING_MODEL` | Candidate ranking and evaluation | $0.25/$2.00 |
| **Rationale Generation** | `gpt-5-mini` | `RATIONALE_GENERATION_MODEL` | Explanation generation | $0.25/$2.00 |
| **Context Analysis** | `gpt-5-mini` | `EXPANSION_OPENAI_MODEL` | Market context understanding | $0.25/$2.00 |
| **Placement Intelligence** | `gpt-5-mini` | `EXPANSION_OPENAI_MODEL` | Optimal location placement | $0.25/$2.00 |
| **Expansion Strategy** | `gpt-5-mini` | `EXPANSION_OPENAI_MODEL` | Strategic expansion planning | $0.25/$2.00 |
| **Expansion Intensity** | `gpt-5-mini` | `EXPANSION_OPENAI_MODEL` | Market penetration analysis | $0.25/$2.00 |
| **Rationale Diversification** | `gpt-5-mini` | `EXPANSION_OPENAI_MODEL` | Diverse reasoning generation | $0.25/$2.00 |

---

## üìä Model Usage Summary

### **GPT-5.2 (Latest Premium) - 8 Systems**
**Cost:** $1.25 input / $10.00 output per 1M tokens

**Systems Using GPT-5.2:**
1. Store Intelligence (Premium mode)
2. Network Analysis (Premium mode)  
3. Scenario Modeling
4. Scenario Comparison
5. Turnover Prediction
6. Performance Clustering
7. Peer Benchmarking
8. Competitive Analysis
9. Simple Expansion

**Use Cases:** Complex strategic analysis, executive reporting, competitive intelligence, advanced forecasting

### **GPT-5-mini (Balanced) - 12 Systems**
**Cost:** $0.25 input / $2.00 output per 1M tokens

**Systems Using GPT-5-mini:**
1. SubMind Assistant
2. Store Intelligence (Standard)
3. Network Analysis (Standard)
4. Continuous Intelligence
5. Portfolio Optimizer
6. ROI Calculator
7. Cannibalization Calculator
8. Revenue Forecasting
9. Forecast Explainer
10. Franchisee Intelligence
11. Franchisee Analytics
12. Market Analysis
13. Strategic Scoring
14. Rationale Generation
15. Context Analysis
16. Placement Intelligence
17. Expansion Strategy
18. Expansion Intensity
19. Rationale Diversification

**Use Cases:** Most operations, interactive features, balanced quality/cost analysis

### **GPT-5-nano (Cost-effective) - 1 System**
**Cost:** $0.05 input / $0.40 output per 1M tokens

**Systems Using GPT-5-nano:**
1. Location Discovery

**Use Cases:** High-volume candidate generation, simple validation tasks

---

## üîÑ Model Upgrade History

### **Major Upgrades Applied:**

1. **GPT-5 ‚Üí GPT-5.1 Upgrade (Premium Systems)**
   - Simple Expansion: `gpt-5` ‚Üí `gpt-5.1`
   - Competitive Analysis: `gpt-5` ‚Üí `gpt-5.1`
   - Advanced Store Analysis: `gpt-5` ‚Üí `gpt-5.1`
   - Scenario Modeling: `gpt-5` ‚Üí `gpt-5.1`

2. **GPT-5.1 ‚Üí GPT-5.2 Upgrade (Latest Model)**
   - Simple Expansion: `gpt-5.1` ‚Üí `gpt-5.2`
   - Competitive Analysis: `gpt-5.1` ‚Üí `gpt-5.2`
   - Advanced Store Analysis: `gpt-5.1` ‚Üí `gpt-5.2`
   - Scenario Modeling: `gpt-5.1` ‚Üí `gpt-5.2`
   - Store Intelligence (Premium): `gpt-5.1` ‚Üí `gpt-5.2`
   - Network Analysis (Premium): `gpt-5.1` ‚Üí `gpt-5.2`

3. **GPT-5-nano ‚Üí GPT-5-mini Upgrade (Quality Improvement)**
   - Market Analysis: `gpt-5-nano` ‚Üí `gpt-5-mini`
   - Strategic Scoring: `gpt-5-nano` ‚Üí `gpt-5-mini`
   - Rationale Generation: `gpt-5-nano` ‚Üí `gpt-5-mini`

4. **Systems Kept at Current Models:**
   - SubMind: Remained `gpt-5-mini` (optimal for interactive use)
   - Location Discovery: Remained `gpt-5-nano` (cost-effective for high volume)

---

## üí∞ Cost Analysis

### **Monthly Cost Estimates (Based on Typical Usage)**

| Model Tier | Systems Count | Est. Monthly Cost | Use Case |
|------------|---------------|-------------------|----------|
| **GPT-5.2** | 8 systems | $50-200 | Strategic analysis, executive reports |
| **GPT-5-mini** | 12 systems | $20-100 | Most operations, interactive features |
| **GPT-5-nano** | 1 system | $2-10 | High-volume location discovery |
| **Total** | **21 systems** | **$72-310** | Complete AI platform |

### **Cost Optimization Strategy:**
- **High-volume operations**: Use GPT-5-nano (Location Discovery)
- **Interactive features**: Use GPT-5-mini (SubMind, most analysis)
- **Strategic decisions**: Use GPT-5.2 (Competitive analysis, scenarios)
- **Premium mode**: Available for critical analysis (Store/Network Intelligence)

---

## üîß Environment Variable Configuration

### **Current Railway BFF Environment Variables:**

```bash
# Core AI Models
SUBMIND_MODEL=gpt-5-mini
AI_STORE_ANALYSIS_MODEL=gpt-5-mini
AI_PREMIUM_ANALYSIS_MODEL=gpt-5.1
AI_NETWORK_ANALYSIS_MODEL=gpt-5-mini
AI_CONTINUOUS_INTELLIGENCE_MODEL=gpt-5-mini

# Expansion Intelligence
EXPANSION_OPENAI_MODEL=gpt-5-mini
MARKET_ANALYSIS_MODEL=gpt-5-mini
LOCATION_DISCOVERY_MODEL=gpt-5-nano
STRATEGIC_SCORING_MODEL=gpt-5-mini
RATIONALE_GENERATION_MODEL=gpt-5-mini

# Advanced Analysis
STORE_ANALYSIS_MODEL=gpt-5.2
COMPETITIVE_ANALYSIS_MODEL=gpt-5.2
SCENARIO_ANALYSIS_MODEL=gpt-5.2

# Business Intelligence
FRANCHISEE_ANALYSIS_MODEL=gpt-5-mini
REVENUE_FORECASTING_MODEL=gpt-5-mini
PORTFOLIO_ANALYSIS_MODEL=gpt-5-mini
```

### **Model Fallback Strategy:**
- **Primary failure**: Escalate to next tier (nano ‚Üí mini ‚Üí 5.2)
- **Configuration missing**: Default to `gpt-5-mini`
- **Cost limits exceeded**: Downgrade to more cost-effective model
- **Quality thresholds not met**: Escalate to higher-tier model

---

## üéØ Model Selection Guidelines

### **When to Use GPT-5.2:**
- ‚úÖ Complex strategic analysis requiring deep reasoning
- ‚úÖ Executive-level reports and recommendations  
- ‚úÖ Competitive intelligence and market analysis
- ‚úÖ Multi-scenario comparative analysis
- ‚úÖ Advanced forecasting and prediction models
- ‚úÖ Quality is more important than cost

### **When to Use GPT-5-mini:**
- ‚úÖ Most AI operations (80% of use cases)
- ‚úÖ Interactive features (SubMind assistant)
- ‚úÖ Real-time analysis and recommendations
- ‚úÖ Balanced quality and cost requirements
- ‚úÖ Standard business intelligence tasks
- ‚úÖ User-facing AI features

### **When to Use GPT-5-nano:**
- ‚úÖ High-volume operations (1000+ candidates)
- ‚úÖ Simple validation and filtering tasks
- ‚úÖ Cost is the primary concern
- ‚úÖ Speed is critical
- ‚úÖ Basic data processing and categorization

---

## üîç Quality Assurance

### **Model Performance Monitoring:**
- **Quality thresholds**: Automatic escalation when outputs don't meet standards
- **Cost tracking**: Real-time monitoring of token usage and costs
- **Performance metrics**: Response time, accuracy, user satisfaction
- **Fallback mechanisms**: Graceful degradation when models fail

### **Escalation Logic:**
1. **GPT-5-nano fails** ‚Üí Escalate to GPT-5-mini
2. **GPT-5-mini insufficient** ‚Üí Escalate to GPT-5.2 (premium mode)
3. **All models fail** ‚Üí Fallback to cached results or manual processing

---

## üìà Future Optimization Opportunities

### **Potential Model Adjustments:**

1. **Cost Optimization:**
   - Consider GPT-5-nano for simple franchisee analytics
   - Evaluate GPT-5-mini for some competitive analysis tasks

2. **Quality Enhancement:**
   - Upgrade revenue forecasting to GPT-5.2 for complex predictions
   - Consider GPT-5.2 for portfolio optimization in high-stakes scenarios

3. **New Model Integration:**
   - Monitor for GPT-5.3 or newer models
   - Evaluate specialized models for specific domains

---

## ‚úÖ Verification Checklist

- ‚úÖ All 21 AI systems documented with current models
- ‚úÖ Environment variables mapped to actual services
- ‚úÖ Cost estimates based on real usage patterns
- ‚úÖ Upgrade history accurately recorded
- ‚úÖ Model selection guidelines established
- ‚úÖ Quality assurance mechanisms documented
- ‚úÖ Future optimization paths identified

---

## üìû Support & Updates

**For Model Configuration Changes:**
1. Update environment variables in Railway dashboard
2. Services automatically pick up new configurations
3. Monitor logs for successful model switches
4. Update this document with changes

**Cost Monitoring:**
- Review monthly OpenAI usage reports
- Track token consumption by service
- Adjust model assignments based on cost/quality trade-offs

**Quality Issues:**
- Check escalation logs for frequent model upgrades
- Review output quality metrics
- Adjust thresholds or model assignments as needed

---

**Last Updated:** December 13, 2025  
**Next Review:** January 13, 2026  
**Document Owner:** AI Platform Team